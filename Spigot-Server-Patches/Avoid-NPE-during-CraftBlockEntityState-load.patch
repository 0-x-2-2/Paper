From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Riley Park <rileysebastianpark@gmail.com>
Date: Mon, 18 Sep 2017 13:38:40 -0700
Subject: [PATCH] Avoid NPE during CraftBlockEntityState load


diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlockEntityState.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlockEntityState.java
index 266f87d7..22dcaea7 100644
--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlockEntityState.java
+++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlockEntityState.java
@@ -0,0 +0,0 @@ public class CraftBlockEntityState<T extends TileEntity> extends CraftBlockState
 
         // copy tile entity data:
         this.snapshot = this.createSnapshot(tileEntity);
+        if(this.snapshot != null) // Paper - avoid NPE during load
         this.load(snapshot);
     }
 
@@ -0,0 +0,0 @@ public class CraftBlockEntityState<T extends TileEntity> extends CraftBlockState
 
         // copy tile entity data:
         this.snapshot = this.createSnapshot(tileEntity);
+        if(this.snapshot != null) // Paper - avoid NPE during load
         this.load(snapshot);
     }
 
--