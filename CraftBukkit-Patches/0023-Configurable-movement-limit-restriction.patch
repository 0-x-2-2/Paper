From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Zach Brown <1254957+zachbr@users.noreply.github.com>
Date: Thu, 3 Jul 2014 19:23:27 -0500
Subject: [PATCH] Configurable movement limit restriction


diff --git a/src/main/java/net/minecraft/server/PlayerConnection.java b/src/main/java/net/minecraft/server/PlayerConnection.java
index 0000000000000000000000000000000000000000..0000000000000000000000000000000000000000 100644
--- a/src/main/java/net/minecraft/server/PlayerConnection.java
+++ b/src/main/java/net/minecraft/server/PlayerConnection.java
@@ -0,0 +0,0 @@ public class PlayerConnection implements PacketPlayInListener {
 
     public void a(PacketPlayInFlying packetplayinflying) {
         // Spigot start - throttle
-        if ( ++movementPackets >= 5 )
+        if ( ++movementPackets >= PaperSpigotConfig.movementLimit ) // PaperSpigot - Configurable movement limit restriction
         {
             Player player = this.getPlayer();
             Location curPos = player.getLocation();
diff --git a/src/main/java/org/github/paperspigot/PaperSpigotConfig.java b/src/main/java/org/github/paperspigot/PaperSpigotConfig.java
index 0000000000000000000000000000000000000000..0000000000000000000000000000000000000000 100644
--- a/src/main/java/org/github/paperspigot/PaperSpigotConfig.java
+++ b/src/main/java/org/github/paperspigot/PaperSpigotConfig.java
@@ -0,0 +0,0 @@ public class PaperSpigotConfig
     {
         interactLimit = getInt( "settings.player-interaction-limit", 2 );
     }
+
+    public static int movementLimit;
+    private static void movementLimit()
+    {
+        movementLimit = getInt( "settings.player-movement-limit", 5 );
+    }
 }
--