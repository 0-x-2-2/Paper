--- a/net/minecraft/world/level/levelgen/structure/structures/ShipwreckPieces.java
+++ b/net/minecraft/world/level/levelgen/structure/structures/ShipwreckPieces.java
@@ -79,7 +79,12 @@
             ResourceKey<LootTable> resourcekey = (ResourceKey) ShipwreckPieces.MARKERS_TO_LOOT.get(metadata);
 
             if (resourcekey != null) {
-                RandomizableContainer.setBlockEntityLootTable(world, random, pos.below(), resourcekey);
+                // CraftBukkit start - ensure block transformation
+                /*
+                RandomizableContainer.setBlockEntityLootTable(worldaccess, randomsource, blockposition.below(), resourcekey);
+                */
+                this.setCraftLootTable(world, pos.below(), random, resourcekey);
+                // CraftBukkit end
             }
 
         }
