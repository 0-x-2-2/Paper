--- a/net/minecraft/world/level/block/entity/TheEndGatewayBlockEntity.java
+++ b/net/minecraft/world/level/block/entity/TheEndGatewayBlockEntity.java
@@ -21,6 +21,7 @@
 import net.minecraft.world.level.block.Blocks;
 import net.minecraft.world.level.block.state.BlockState;
 import net.minecraft.world.level.chunk.LevelChunk;
+import net.minecraft.world.level.dimension.LevelStem;
 import net.minecraft.world.level.levelgen.feature.ConfiguredFeature;
 import net.minecraft.world.level.levelgen.feature.Feature;
 import net.minecraft.world.level.levelgen.feature.configurations.EndGatewayConfiguration;
@@ -143,7 +144,7 @@
     public Vec3 getPortalPosition(ServerLevel world, BlockPos pos) {
         BlockPos blockposition1;
 
-        if (this.exitPortal == null && world.dimension() == Level.END) {
+        if (this.exitPortal == null && world.getTypeKey() == LevelStem.END) { // CraftBukkit - work in alternate worlds
             blockposition1 = TheEndGatewayBlockEntity.findOrCreateValidTeleportPos(world, pos);
             blockposition1 = blockposition1.above(10);
             TheEndGatewayBlockEntity.LOGGER.debug("Creating portal at {}", blockposition1);
